<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Locus ‚Äî Your Memory Palace</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Geist:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <meta name="theme-color" content="hsl(240 10% 3.9%)">
  <meta name="description" content="Locus - A personal memory palace for organizing tasks and ideas">
</head>
<body>
  <div class="app">
    <!-- Header -->
    <header class="header">
      <div class="header-content">
        <div class="branding">
          <h1 class="logo">
            <span class="logo-icon">üèõÔ∏è</span>
            LOCUS
          </h1>
          <p class="tagline">Your Memory Palace</p>
        </div>
        <nav class="room-filters" id="room-filters" aria-label="Filter by room">
          <button class="room-btn active focus-ring" data-room="all" aria-pressed="true">
            <span class="room-icon">üèõÔ∏è</span>
            <span class="room-name">All Rooms</span>
          </button>
          <!-- Room buttons populated by JS -->
        </nav>
        <button class="theme-toggle focus-ring" id="theme-toggle" aria-label="Toggle dark mode" title="Toggle theme">
          <svg class="sun-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="5"></circle>
            <line x1="12" y1="1" x2="12" y2="3"></line>
            <line x1="12" y1="21" x2="12" y2="23"></line>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
            <line x1="1" y1="12" x2="3" y2="12"></line>
            <line x1="21" y1="12" x2="23" y2="12"></line>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
          </svg>
          <svg class="moon-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
          </svg>
        </button>
        <div class="auth-container" id="auth-container">
          <!-- Login button or user info populated by JS -->
        </div>
      </div>
    </header>

    <!-- Sort Controls -->
    <div class="board-controls">
      <div class="sort-controls">
        <label for="sort-select">Sort by:</label>
        <select id="sort-select" class="sort-select focus-ring">
          <option value="priority">Priority</option>
          <option value="due">Due Date</option>
          <option value="recent">Recently Added</option>
        </select>
      </div>
    </div>

    <!-- Main Board -->
    <main class="board" id="board" aria-label="Task board">
      <section class="column" data-status="backlog" aria-label="Backlog">
        <div class="column-header">
          <h2 class="column-title">Backlog</h2>
          <span class="column-count" id="count-backlog" aria-label="Item count">0</span>
        </div>
        <div class="cards" id="cards-backlog" role="list"></div>
      </section>

      <section class="column" data-status="in_progress" aria-label="In Progress">
        <div class="column-header">
          <h2 class="column-title">In Progress</h2>
          <span class="column-count" id="count-in_progress" aria-label="Item count">0</span>
        </div>
        <div class="cards" id="cards-in_progress" role="list"></div>
      </section>

      <section class="column" data-status="blocked" aria-label="Blocked">
        <div class="column-header">
          <h2 class="column-title">Blocked</h2>
          <span class="column-count" id="count-blocked" aria-label="Item count">0</span>
        </div>
        <div class="cards" id="cards-blocked" role="list"></div>
      </section>

      <section class="column" data-status="done" aria-label="Done">
        <div class="column-header">
          <h2 class="column-title">Done</h2>
          <span class="column-count" id="count-done" aria-label="Item count">0</span>
        </div>
        <div class="cards" id="cards-done" role="list"></div>
      </section>
    </main>

    <!-- Expanded Card Modal -->
    <div class="modal-overlay" id="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="modal-title">
      <div class="modal" id="card-modal">
        <button class="modal-close focus-ring" id="modal-close" aria-label="Close dialog">
          <svg width="14" height="14" viewBox="0 0 14 14" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
            <path d="M1 1l12 12M13 1L1 13"/>
          </svg>
        </button>
        <div class="modal-header">
          <span class="modal-room-badge" id="modal-room-badge"></span>
          <span class="modal-priority" id="modal-priority"></span>
        </div>
        <h2 class="modal-title" id="modal-title"></h2>
        <div class="modal-meta">
          <span class="modal-due" id="modal-due"></span>
          <span class="modal-created" id="modal-created"></span>
        </div>
        <div class="modal-tags" id="modal-tags"></div>
        <div class="modal-notes" id="modal-notes"></div>
        <div class="modal-source" id="modal-source"></div>
        <div class="modal-actions">
          <a href="https://github.com/justinpreston/locus/issues/new" target="_blank" rel="noopener" class="add-btn focus-ring">
            <svg width="14" height="14" viewBox="0 0 14 14" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
              <path d="M7 1v12M1 7h12"/>
            </svg>
            New Item
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Floating Add Button -->
  <a href="https://github.com/justinpreston/locus/issues/new?labels=room:garden,status:backlog,priority:medium&title=New+Item" 
     target="_blank" 
     rel="noopener"
     class="fab focus-ring" 
     title="Add new item"
     aria-label="Add new item">
    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
      <path d="M10 3v14M3 10h14"/>
    </svg>
  </a>

  <script src="app.js"></script>
</body>
</html>
